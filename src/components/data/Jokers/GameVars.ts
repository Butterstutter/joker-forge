import {
  RectangleStackIcon,
  CreditCardIcon,
  SparklesIcon,
  FaceSmileIcon,
  PlayIcon,
  BanknotesIcon,
  ChartBarIcon,
  HandRaisedIcon,
  FireIcon,
  PresentationChartBarIcon
} from "@heroicons/react/24/outline";

export interface GameVariable {
  id: string;
  label: string;
  description: string;
  category: string;
  subcategory?: string;
  code: string;
}

export interface GameVariableSubcategory {
  id: string;
  label: string;
  variables: GameVariable[];
}

export interface GameVariableCategory {
  id: string;
  label: string;
  icon: React.ComponentType<{ className?: string }>;
  variables: GameVariable[];
  subcategories?: GameVariableSubcategory[];
}

export const GAME_VARIABLE_CATEGORIES: GameVariableCategory[] = [
  {
    id: "deck",
    label: "Deck & Cards",
    icon: RectangleStackIcon,
    variables: [
      {
        id: "cards_in_deck",
        label: "Cards in Deck",
        description: "Number of cards currently in the deck pile",
        category: "deck",
        code: "#(G.deck and G.deck.cards or {})",
      },
      {
        id: "total_playing_cards",
        label: "Total Playing Cards",
        description: "Total playing cards in the game",
        category: "deck",
        code: "#(G.playing_cards or {})",
      },
      {
        id: "current_hand_size",
        label: "Current Hand Size",
        description: "Current hand size",
        category: "deck",
        code: "(G.hand and G.hand.config.card_limit or 0)",
      },
      {
        id: "cards_removed_from_deck",
        label: "Cards Removed From Deck",
        description: "Number of cards removed from starting deck",
        category: "deck",
        code: "(G.GAME.starting_deck_size - #(G.playing_cards or {}))",
      },
      {
        id: "cards_in_hand",
        label: "Cards in Hand",
        description: "Number of cards currently in hand",
        category: "deck",
        code: "#(G.hand and G.hand.cards or {})",
      },
      {
        id: "cards_in_discard",
        label: "Cards in Discard",
        description: "Number of cards in discard pile",
        category: "deck",
        code: "#(G.discard and G.discard.cards or {})",
      },
    ],
    subcategories: [
      {
        id: "hand_analysis",
        label: "Hand Analysis",
        variables: [
          {
            id: "lowest_rank_in_hand",
            label: "Lowest Rank in Hand",
            description: "Rank value of the lowest card in hand",
            category: "deck",
            subcategory: "hand_analysis",
            code: "(function() local min = 14; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id < min then min = card.base.id end end; return min end)()",
          },
          {
            id: "highest_rank_in_hand",
            label: "Highest Rank in Hand",
            description: "Rank value of the highest card in hand",
            category: "deck",
            subcategory: "hand_analysis",
            code: "(function() local max = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id > max then max = card.base.id end end; return max end)()",
          },
        ],
      },
      {
        id: "deck_composition_ranks",
        label: "Deck Composition - Ranks",
        variables: [
          {
            id: "twos_in_deck",
            label: "2s in Deck",
            description: "Number of 2s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 2 then count = count + 1 end end; return count end)()",
          },
          {
            id: "threes_in_deck",
            label: "3s in Deck",
            description: "Number of 3s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 3 then count = count + 1 end end; return count end)()",
          },
          {
            id: "fours_in_deck",
            label: "4s in Deck",
            description: "Number of 4s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 4 then count = count + 1 end end; return count end)()",
          },
          {
            id: "fives_in_deck",
            label: "5s in Deck",
            description: "Number of 5s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 5 then count = count + 1 end end; return count end)()",
          },
          {
            id: "sixes_in_deck",
            label: "6s in Deck",
            description: "Number of 6s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 6 then count = count + 1 end end; return count end)()",
          },
          {
            id: "sevens_in_deck",
            label: "7s in Deck",
            description: "Number of 7s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 7 then count = count + 1 end end; return count end)()",
          },
          {
            id: "eights_in_deck",
            label: "8s in Deck",
            description: "Number of 8s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 8 then count = count + 1 end end; return count end)()",
          },
          {
            id: "nines_in_deck",
            label: "9s in Deck",
            description: "Number of 9s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 9 then count = count + 1 end end; return count end)()",
          },
          {
            id: "tens_in_deck",
            label: "10s in Deck",
            description: "Number of 10s in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 10 then count = count + 1 end end; return count end)()",
          },
          {
            id: "jacks_in_deck",
            label: "Jacks in Deck",
            description: "Number of Jacks in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 11 then count = count + 1 end end; return count end)()",
          },
          {
            id: "queens_in_deck",
            label: "Queens in Deck",
            description: "Number of Queens in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 12 then count = count + 1 end end; return count end)()",
          },
          {
            id: "kings_in_deck",
            label: "Kings in Deck",
            description: "Number of Kings in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 13 then count = count + 1 end end; return count end)()",
          },
          {
            id: "aces_in_deck",
            label: "Aces in Deck",
            description: "Number of Aces in full deck",
            category: "deck",
            subcategory: "deck_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.id == 14 then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "deck_composition_suits",
        label: "Deck Composition - Suits",
        variables: [
          {
            id: "spades_in_deck",
            label: "Spades in Deck",
            description: "Number of Spades in full deck",
            category: "deck",
            subcategory: "deck_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.suit == 'Spades' then count = count + 1 end end; return count end)()",
          },
          {
            id: "hearts_in_deck",
            label: "Hearts in Deck",
            description: "Number of Hearts in full deck",
            category: "deck",
            subcategory: "deck_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.suit == 'Hearts' then count = count + 1 end end; return count end)()",
          },
          {
            id: "diamonds_in_deck",
            label: "Diamonds in Deck",
            description: "Number of Diamonds in full deck",
            category: "deck",
            subcategory: "deck_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.suit == 'Diamonds' then count = count + 1 end end; return count end)()",
          },
          {
            id: "clubs_in_deck",
            label: "Clubs in Deck",
            description: "Number of Clubs in full deck",
            category: "deck",
            subcategory: "deck_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.base.suit == 'Clubs' then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "deck_composition_enhancements",
        label: "Deck Composition - Enhancements",
        variables: [
          {
            id: "bonus_cards_in_deck",
            label: "Bonus Cards in Deck",
            description: "Number of Bonus cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_bonus') then count = count + 1 end end; return count end)()",
          },
          {
            id: "mult_cards_in_deck",
            label: "Mult Cards in Deck",
            description: "Number of Mult cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_mult') then count = count + 1 end end; return count end)()",
          },
          {
            id: "wild_cards_in_deck",
            label: "Wild Cards in Deck",
            description: "Number of Wild cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_wild') then count = count + 1 end end; return count end)()",
          },
          {
            id: "glass_cards_in_deck",
            label: "Glass Cards in Deck",
            description: "Number of Glass cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_glass') then count = count + 1 end end; return count end)()",
          },
          {
            id: "steel_cards_in_deck",
            label: "Steel Cards in Deck",
            description: "Number of Steel cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_steel') then count = count + 1 end end; return count end)()",
          },
          {
            id: "stone_cards_in_deck",
            label: "Stone Cards in Deck",
            description: "Number of Stone cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_stone') then count = count + 1 end end; return count end)()",
          },
          {
            id: "gold_cards_in_deck",
            label: "Gold Cards in Deck",
            description: "Number of Gold cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_gold') then count = count + 1 end end; return count end)()",
          },
          {
            id: "lucky_cards_in_deck",
            label: "Lucky Cards in Deck",
            description: "Number of Lucky cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if SMODS.has_enhancement(card, 'm_lucky') then count = count + 1 end end; return count end)()",
          },
          {
            id: "enhanced_cards_in_deck",
            label: "Enhanced Cards in Deck",
            description: "Total number of enhanced cards in full deck",
            category: "deck",
            subcategory: "deck_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if next(SMODS.get_enhancements(card)) then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "deck_composition_editions",
        label: "Deck Composition - Editions",
        variables: [
          {
            id: "foil_cards_in_deck",
            label: "Foil Cards in Deck",
            description: "Number of Foil cards in full deck",
            category: "deck",
            subcategory: "deck_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.edition and card.edition.foil then count = count + 1 end end; return count end)()",
          },
          {
            id: "holographic_cards_in_deck",
            label: "Holographic Cards in Deck",
            description: "Number of Holographic cards in full deck",
            category: "deck",
            subcategory: "deck_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.edition and card.edition.holo then count = count + 1 end end; return count end)()",
          },
          {
            id: "polychrome_cards_in_deck",
            label: "Polychrome Cards in Deck",
            description: "Number of Polychrome cards in full deck",
            category: "deck",
            subcategory: "deck_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.edition and card.edition.polychrome then count = count + 1 end end; return count end)()",
          },
          {
            id: "negative_cards_in_deck",
            label: "Negative Cards in Deck",
            description: "Number of Negative cards in full deck",
            category: "deck",
            subcategory: "deck_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.edition and card.edition.negative then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "deck_composition_seals",
        label: "Deck Composition - Seals",
        variables: [
          {
            id: "gold_sealed_cards_in_deck",
            label: "Gold Sealed Cards in Deck",
            description: "Number of Gold sealed cards in full deck",
            category: "deck",
            subcategory: "deck_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.seal == 'Gold' then count = count + 1 end end; return count end)()",
          },
          {
            id: "red_sealed_cards_in_deck",
            label: "Red Sealed Cards in Deck",
            description: "Number of Red sealed cards in full deck",
            category: "deck",
            subcategory: "deck_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.seal == 'Red' then count = count + 1 end end; return count end)()",
          },
          {
            id: "blue_sealed_cards_in_deck",
            label: "Blue Sealed Cards in Deck",
            description: "Number of Blue sealed cards in full deck",
            category: "deck",
            subcategory: "deck_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.seal == 'Blue' then count = count + 1 end end; return count end)()",
          },
          {
            id: "purple_sealed_cards_in_deck",
            label: "Purple Sealed Cards in Deck",
            description: "Number of Purple sealed cards in full deck",
            category: "deck",
            subcategory: "deck_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.playing_cards or {}) do if card.seal == 'Purple' then count = count + 1 end end; return count end)()",
          },
        ],
      },
    ],
  },{
    id: "scoring",
    label: "Scoring",
    icon: FireIcon,
    variables: [],
    subcategories: [
      {
        id: "chips",
        label: "Chips",
        variables: [
          {
            id: "blind_chip_req",
            label: "Blind Chip Requirement",
            description: "The Chip Requirement for the current Blind",
            category: "scoring",
            subcategory: "chips",
            code: "G.GAME.blind.chips"
          },
          {
            id: "current_chip_total",
            label: "Current Chip Total",
            description: "Current Amount of Scored Chips towards the Blind Requirement",
            category: "scoring",
            subcategory: "chips",
            code: "G.GAME.chips"
          },
          {
            id: "initial_scoring_chips",
            label: "Initial Scoring Chips",
            description: "The Initial Amount of Chips of the played Poker Hand",
            category: "scoring",
            subcategory: "chips",
            code: "G.GAME.current_round.current_hand.chips"
          },
          {
            id: "current_scoring_chips",
            label: "Current Scoring Chips",
            description: "The Current Amount of Chips in scoring",
            category: "scoring",
            subcategory: "chips",
            code: "hand_chips"
          },
          {
            id: "cumulative_chips",
            label: "Cumulative Chips",
            description: "The Cumulative Chip Total of all scoring cards",
            category: "scoring",
            subcategory: "chips",
            code: "(function() local chips_sum = 0; for _, playing_card in pairs(context.scoring_hand or {}) do chips_sum = chips_sum + playing_card.base.nominal end; return chips_sum end)"
          },
        ],
      },
      {
        id: "mult",
        label: "Mult",
        variables: [
          {
            id: "initial_scoring_mult",
            label: "Initial Scoring Mult",
            description: "The Initial Amount of Mult of the played Poker Hand",
            category: "scoring",
            subcategory: "mult",
            code: "G.GAME.current_round.current_hand.mult"
          },
          {
            id: "current_scoring_mult",
            label: "Current Scoring Mult",
            description: "The Current Amount of Mult in scoring",
            category: "scoring",
            subcategory: "mult",
            code: "mult"
          },
          {
            id: "highest_card_mult",
            label: "Highest Card Mult",
            description: "Mult value from the highest rank card in hand",
            category: "scoring",
            subcategory: "mult",
            code: "(function() local max = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id > max then max = card.base.id end end; return max end)()",
          },
          {
            id: "lowest_card_mult",
            label: "Lowest Card Mult",
            description: "Mult value from the lowest rank card in hand",
            category: "scoring",
            subcategory: "mult",
            code: "(function() local min = 14; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id < min then min = card.base.id end end; return min end)()",
          },
        ],
      },
    ],
  },
  {
    id: "hand",
    label: "Hand",
    icon: HandRaisedIcon,
    variables: [],
    subcategories: [
      {
        id: "hand_composition_ranks",
        label: "Hand Composition - Ranks",
        variables: [
          {
            id: "twos_in_hand",
            label: "2s in Hand",
            description: "Number of 2s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 2 then count = count + 1 end end; return count end)()",
          },
          {
            id: "threes_in_hand",
            label: "3s in Hand",
            description: "Number of 3s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 3 then count = count + 1 end end; return count end)()",
          },
          {
            id: "fours_in_hand",
            label: "4s in Hand",
            description: "Number of 4s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 4 then count = count + 1 end end; return count end)()",
          },
          {
            id: "fives_in_hand",
            label: "5s in Hand",
            description: "Number of 5s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 5 then count = count + 1 end end; return count end)()",
          },
          {
            id: "sixes_in_hand",
            label: "6s in Hand",
            description: "Number of 6s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 6 then count = count + 1 end end; return count end)()",
          },
          {
            id: "sevens_in_hand",
            label: "7s in Hand",
            description: "Number of 7s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 7 then count = count + 1 end end; return count end)()",
          },
          {
            id: "eights_in_hand",
            label: "8s in Hand",
            description: "Number of 8s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 8 then count = count + 1 end end; return count end)()",
          },
          {
            id: "nines_in_hand",
            label: "9s in Hand",
            description: "Number of 9s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 9 then count = count + 1 end end; return count end)()",
          },
          {
            id: "tens_in_hand",
            label: "10s in Hand",
            description: "Number of 10s in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 10 then count = count + 1 end end; return count end)()",
          },
          {
            id: "jacks_in_hand",
            label: "Jacks in Hand",
            description: "Number of Jacks in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 11 then count = count + 1 end end; return count end)()",
          },
          {
            id: "queens_in_hand",
            label: "Queens in Hand",
            description: "Number of Queens in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 12 then count = count + 1 end end; return count end)()",
          },
          {
            id: "kings_in_hand",
            label: "Kings in Hand",
            description: "Number of Kings in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 13 then count = count + 1 end end; return count end)()",
          },
          {
            id: "aces_in_hand",
            label: "Aces in Hand",
            description: "Number of Aces in hand",
            category: "hand",
            subcategory: "hand_composition_ranks",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.id == 14 then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "hand_composition_suits",
        label: "Hand Composition - Suits",
        variables: [
          {
            id: "spades_in_hand",
            label: "Spades in Hand",
            description: "Number of Spades in hand",
            category: "hand",
            subcategory: "hand_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.suit == 'Spades' then count = count + 1 end end; return count end)()",
          },
          {
            id: "hearts_in_hand",
            label: "Hearts in Hand",
            description: "Number of Hearts in hand",
            category: "hand",
            subcategory: "hand_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.suit == 'Hearts' then count = count + 1 end end; return count end)()",
          },
          {
            id: "diamonds_in_hand",
            label: "Diamonds in Hand",
            description: "Number of Diamonds in hand",
            category: "hand",
            subcategory: "hand_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.suit == 'Diamonds' then count = count + 1 end end; return count end)()",
          },
          {
            id: "clubs_in_hand",
            label: "Clubs in Hand",
            description: "Number of Clubs in hand",
            category: "hand",
            subcategory: "hand_composition_suits",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.base.suit == 'Clubs' then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "hand_composition_enhancements",
        label: "Hand Composition - Enhancements",
        variables: [
          {
            id: "bonus_cards_in_hand",
            label: "Bonus Cards in Hand",
            description: "Number of Bonus cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_bonus') then count = count + 1 end end; return count end)()",
          },
          {
            id: "mult_cards_in_hand",
            label: "Mult Cards in Hand",
            description: "Number of Mult cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_mult') then count = count + 1 end end; return count end)()",
          },
          {
            id: "wild_cards_in_hand",
            label: "Wild Cards in Hand",
            description: "Number of Wild cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_wild') then count = count + 1 end end; return count end)()",
          },
          {
            id: "glass_cards_in_hand",
            label: "Glass Cards in Hand",
            description: "Number of Glass cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_glass') then count = count + 1 end end; return count end)()",
          },
          {
            id: "steel_cards_in_hand",
            label: "Steel Cards in Hand",
            description: "Number of Steel cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_steel') then count = count + 1 end end; return count end)()",
          },
          {
            id: "stone_cards_in_hand",
            label: "Stone Cards in Hand",
            description: "Number of Stone cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_stone') then count = count + 1 end end; return count end)()",
          },
          {
            id: "gold_cards_in_hand",
            label: "Gold Cards in Hand",
            description: "Number of Gold cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_gold') then count = count + 1 end end; return count end)()",
          },
          {
            id: "lucky_cards_in_hand",
            label: "Lucky Cards in Hand",
            description: "Number of Lucky cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if SMODS.has_enhancement(card, 'm_lucky') then count = count + 1 end end; return count end)()",
          },
          {
            id: "enhanced_cards_in_hand",
            label: "Enhanced Cards in Hand",
            description: "Total number of enhanced cards in hand",
            category: "hand",
            subcategory: "hand_composition_enhancements",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if next(SMODS.get_enhancements(card)) then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "hand_composition_editions",
        label: "Hand Composition - Editions",
        variables: [
          {
            id: "foil_cards_in_hand",
            label: "Foil Cards in Hand",
            description: "Number of Foil cards in hand",
            category: "hand",
            subcategory: "hand_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.edition and card.edition.foil then count = count + 1 end end; return count end)()",
          },
          {
            id: "holographic_cards_in_hand",
            label: "Holographic Cards in Hand",
            description: "Number of Holographic cards in hand",
            category: "hand",
            subcategory: "hand_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.edition and card.edition.holo then count = count + 1 end end; return count end)()",
          },
          {
            id: "polychrome_cards_in_hand",
            label: "Polychrome Cards in Hand",
            description: "Number of Polychrome cards in hand",
            category: "hand",
            subcategory: "hand_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.edition and card.edition.polychrome then count = count + 1 end end; return count end)()",
          },
          {
            id: "negative_cards_in_hand",
            label: "Negative Cards in Hand",
            description: "Number of Negative cards in hand",
            category: "hand",
            subcategory: "hand_composition_editions",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.edition and card.edition.negative then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "hand_composition_seals",
        label: "Hand Composition - Seals",
        variables: [
          {
            id: "gold_sealed_cards_in_hand",
            label: "Gold Sealed Cards in Hand",
            description: "Number of Gold sealed cards in hand",
            category: "hand",
            subcategory: "hand_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.seal == 'Gold' then count = count + 1 end end; return count end)()",
          },
          {
            id: "red_sealed_cards_in_hand",
            label: "Red Sealed Cards in Hand",
            description: "Number of Red sealed cards in hand",
            category: "hand",
            subcategory: "hand_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.seal == 'Red' then count = count + 1 end end; return count end)()",
          },
          {
            id: "blue_sealed_cards_in_hand",
            label: "Blue Sealed Cards in Hand",
            description: "Number of Blue sealed cards in hand",
            category: "hand",
            subcategory: "hand_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.seal == 'Blue' then count = count + 1 end end; return count end)()",
          },
          {
            id: "purple_sealed_cards_in_hand",
            label: "Purple Sealed Cards in Hand",
            description: "Number of Purple sealed cards in hand",
            category: "hand",
            subcategory: "hand_composition_seals",
            code: "(function() local count = 0; for _, card in ipairs(G.hand and G.hand.cards or {}) do if card.seal == 'Purple' then count = count + 1 end end; return count end)()",
          },
        ],
      },
    ],
  },
  {
    id: "consumables",
    label: "Consumables",
    icon: CreditCardIcon,
    variables: [
      {
        id: "consumables_held",
        label: "Consumables Held",
        description: "Number of consumables currently held",
        category: "consumables",
        code: "#(G.consumeables and G.consumeables.cards or {})",
      },
      {
        id: "consumable_slots",
        label: "Consumable Slots",
        description: "Total number of consumable slots available",
        category: "consumables",
        code: "G.consumeables and G.consumeables.config.card_limit or 0",
      },
      {
        id: "free_consumable_slots",
        label: "Free Consumable Slots",
        description: "Number of empty consumable slots",
        category: "consumables",
        code: "((G.consumeables and G.consumeables.config.card_limit or 0) - #(G.consumeables and G.consumeables.cards or {}))",
      },
    ],
    subcategories: [
      {
        id: "consumable_usage",
        label: "Consumable Usage",
        variables: [
          {
            id: "tarot_cards_used",
            label: "Tarot Cards Used",
            description: "Total number of Tarot cards used this run",
            category: "consumables",
            subcategory: "consumable_usage",
            code: "(G.GAME.consumeable_usage_total and G.GAME.consumeable_usage_total.tarot or 0)",
          },
          {
            id: "spectral_cards_used",
            label: "Spectral Cards Used",
            description: "Total number of Spectral cards used this run",
            category: "consumables",
            subcategory: "consumable_usage",
            code: "(G.GAME.consumeable_usage_total and G.GAME.consumeable_usage_total.spectral or 0)",
          },
          {
            id: "planet_cards_used",
            label: "Planet Cards Used",
            description: "Total number of Planet cards used this run",
            category: "consumables",
            subcategory: "consumable_usage",
            code: "(G.GAME.consumeable_usage_total and G.GAME.consumeable_usage_total.planet or 0)",
          },
          {
            id: "unique_tarots_used",
            label: "Unique Tarot Cards Used",
            description: "Number of unique Tarot cards used",
            category: "consumables",
            subcategory: "consumable_usage",
            code: "(function() local count = 0; for k, v in pairs(G.GAME.consumeable_usage) do if v.set == 'Tarot' then count = count + 1 end end; return count end)()",
          },
          {
            id: "unique_planets_used",
            label: "Unique Planet Cards Used",
            description: "Number of unique Planet cards used",
            category: "consumables",
            subcategory: "consumable_usage",
            code: "(function() local count = 0; for k, v in pairs(G.GAME.consumeable_usage) do if v.set == 'Planet' then count = count + 1 end end; return count end)()",
          },
          {
            id: "unique_spectrals_used",
            label: "Unique Spectral Cards Used",
            description: "Number of unique Spectral cards used",
            category: "consumables",
            subcategory: "consumable_usage",
            code: "(function() local count = 0; for k, v in pairs(G.GAME.consumeable_usage) do if v.set == 'Spectral' then count = count + 1 end end; return count end)()",
          },
        ],
      },
    ],
  },
  {
    id: "jokers",
    label: "Jokers",
    icon: FaceSmileIcon,
    variables: [],
    subcategories: [
      {
        id: "joker_slots",
        label: "Joker Slots",
        variables: [
          {
            id: "joker_count",
            label: "Joker Count",
            description: "Number of jokers currently held",
            category: "jokers",
            code: "#(G.jokers and G.jokers.cards or {})",
          },
          {
            id: "joker_slots",
            label: "Total Joker Slots",
            description: "Total number of joker slots available",
            category: "jokers",
            code: "G.jokers and G.jokers.config.card_limit or 0",
          },
          {
            id: "free_joker_slots",
            label: "Free Joker Slots",
            description: "Number of empty joker slots",
            category: "jokers",
            code: "((G.jokers and G.jokers.config.card_limit or 0) - #(G.jokers and G.jokers.cards or {}))",
          },
        ]
      },
      {
        id: "joker_rarities",
        label: "Jokers by Rarity",
        variables: [
          {
            id: "common_jokers",
            label: "Common Jokers",
            description: "Number of Common rarity jokers owned",
            category: "jokers",
            subcategory: "joker_rarities",
            code: "(function() local count = 0; for _, joker in ipairs(G.jokers and G.jokers.cards or {}) do if joker.config.center.rarity == 1 then count = count + 1 end end; return count end)()",
          },
          {
            id: "uncommon_jokers",
            label: "Uncommon Jokers",
            description: "Number of Uncommon rarity jokers owned",
            category: "jokers",
            subcategory: "joker_rarities",
            code: "(function() local count = 0; for _, joker in ipairs(G.jokers and G.jokers.cards or {}) do if joker.config.center.rarity == 2 then count = count + 1 end end; return count end)()",
          },
          {
            id: "rare_jokers",
            label: "Rare Jokers",
            description: "Number of Rare rarity jokers owned",
            category: "jokers",
            subcategory: "joker_rarities",
            code: "(function() local count = 0; for _, joker in ipairs(G.jokers and G.jokers.cards or {}) do if joker.config.center.rarity == 3 then count = count + 1 end end; return count end)()",
          },
          {
            id: "legendary_jokers",
            label: "Legendary Jokers",
            description: "Number of Legendary rarity jokers owned",
            category: "jokers",
            subcategory: "joker_rarities",
            code: "(function() local count = 0; for _, joker in ipairs(G.jokers and G.jokers.cards or {}) do if joker.config.center.rarity == 4 then count = count + 1 end end; return count end)()",
          },
        ],
      },
      {
        id: "joker_economics",
        label: "Joker Economics",
        variables: [
          {
            id: "self_sell_value",
            label: "This Joker Sell Value",
            description: "The sell value of only this joker",
            category: "jokers",
            subcategory: "joker_economics",
            code: "(function() for _, joker in ipairs(G.jokers and G.jokers.cards or {}) do if joker == card then return joker.sell_cost end end end)()",
          },
          {
            id: "other_jokers_sell_value",
            label: "Other Jokers Sell Value",
            description: "Combined sell value of all other jokers",
            category: "jokers",
            subcategory: "joker_economics",
            code: "(function() local total = 0; for _, joker in ipairs(G.jokers and G.jokers.cards or {}) do if joker ~= card then total = total + joker.sell_cost end end; return total end)()",
          },
          {
            id: "all_jokers_sell_value",
            label: "All Jokers Sell Value",
            description: "Combined sell value of all jokers",
            category: "jokers",
            subcategory: "joker_economics",
            code: "(function() local total = 0; for _, joker in ipairs(G.jokers and G.jokers.cards or {}) do total = total + joker.sell_cost end; return total end)()",
          },
        ],
      },
    ],
  },
  {
    id: "poker_hands",
    label: "Poker Hands",
    icon: PlayIcon,
    variables: [
      {
        id: "current_hand_played_count",
        label: "Current Hand Played Count",
        description: "Times the currently played hand has been played",
        category: "poker_hands",
        code: "G.GAME.hands[context.scoring_name].played",
      },
      {
        id: "total_hand_levels",
        label: "Total Hand Levels",
        description: "Sum of all poker hand levels",
        category: "poker_hands",
        code: "(function() local total = 0; for hand, data in pairs(G.GAME.hands) do if data.level >= to_big(1) then total = total + data.level end end; return total end)()",
      },
      {
        id: "hand_levels_above_one",
        label: "Hand Levels Above One",
        description: "Total levels minus base level for each hand",
        category: "poker_hands",
        code: "(function() local total_levels = 0; local total_hands = 0; for hand, data in pairs(G.GAME.hands) do if data.level >= to_big(1) then total_hands = total_hands + 1; total_levels = total_levels + data.level end end; return total_levels - total_hands end)()",
      },
    ],
    subcategories: [
      {
        id: "hand_play_counts",
        label: "Hand Play Counts",
        variables: [
          {
            id: "high_card_played",
            label: "High Card Played",
            description: "Number of times High Card has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['High Card'].played",
          },
          {
            id: "pair_played",
            label: "Pair Played",
            description: "Number of times Pair has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Pair'].played",
          },
          {
            id: "two_pair_played",
            label: "Two Pair Played",
            description: "Number of times Two Pair has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Two Pair'].played",
          },
          {
            id: "three_of_a_kind_played",
            label: "Three of a Kind Played",
            description: "Number of times Three of a Kind has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Three of a Kind'].played",
          },
          {
            id: "straight_played",
            label: "Straight Played",
            description: "Number of times Straight has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Straight'].played",
          },
          {
            id: "flush_played",
            label: "Flush Played",
            description: "Number of times Flush has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Flush'].played",
          },
          {
            id: "full_house_played",
            label: "Full House Played",
            description: "Number of times Full House has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Full House'].played",
          },
          {
            id: "four_of_a_kind_played",
            label: "Four of a Kind Played",
            description: "Number of times Four of a Kind has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Four of a Kind'].played",
          },
          {
            id: "straight_flush_played",
            label: "Straight Flush Played",
            description: "Number of times Straight Flush has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Straight Flush'].played",
          },
          {
            id: "five_of_a_kind_played",
            label: "Five of a Kind Played",
            description: "Number of times Five of a Kind has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Five of a Kind'].played",
          },
          {
            id: "flush_house_played",
            label: "Flush House Played",
            description: "Number of times Flush House has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Flush House'].played",
          },
          {
            id: "flush_five_played",
            label: "Flush Five Played",
            description: "Number of times Flush Five has been played",
            category: "poker_hands",
            subcategory: "hand_play_counts",
            code: "G.GAME.hands['Flush Five'].played",
          },
        ],
      },
      {
        id: "hand_levels",
        label: "Hand Levels",
        variables: [
          {
            id: "high_card_level",
            label: "High Card Level",
            description: "Current level of High Card",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['High Card'].level",
          },
          {
            id: "pair_level",
            label: "Pair Level",
            description: "Current level of Pair",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Pair'].level",
          },
          {
            id: "two_pair_level",
            label: "Two Pair Level",
            description: "Current level of Two Pair",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Two Pair'].level",
          },
          {
            id: "three_of_a_kind_level",
            label: "Three of a Kind Level",
            description: "Current level of Three of a Kind",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Three of a Kind'].level",
          },
          {
            id: "straight_level",
            label: "Straight Level",
            description: "Current level of Straight",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Straight'].level",
          },
          {
            id: "flush_level",
            label: "Flush Level",
            description: "Current level of Flush",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Flush'].level",
          },
          {
            id: "full_house_level",
            label: "Full House Level",
            description: "Current level of Full House",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Full House'].level",
          },
          {
            id: "four_of_a_kind_level",
            label: "Four of a Kind Level",
            description: "Current level of Four of a Kind",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Four of a Kind'].level",
          },
          {
            id: "straight_flush_level",
            label: "Straight Flush Level",
            description: "Current level of Straight Flush",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Straight Flush'].level",
          },
          {
            id: "five_of_a_kind_level",
            label: "Five of a Kind Level",
            description: "Current level of Five of a Kind",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Five of a Kind'].level",
          },
          {
            id: "flush_house_level",
            label: "Flush House Level",
            description: "Current level of Flush House",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Flush House'].level",
          },
          {
            id: "flush_five_level",
            label: "Flush Five Level",
            description: "Current level of Flush Five",
            category: "poker_hands",
            subcategory: "hand_levels",
            code: "G.GAME.hands['Flush Five'].level",
          },
          {
            id: "most_played_hand_level",
            label: "Most Played Hand Level",
            description: "Level of the most frequently played hand",
            category: "poker_hands",
            subcategory: "hand_analytics",
            code: "(function() local most_played = 0; local most_played_hand = ''; for hand, data in pairs(G.GAME.hands) do if data.played > most_played then most_played = data.played; most_played_hand = hand end end; return most_played_hand ~= '' and G.GAME.hands[most_played_hand].level or 0 end)()",
          },
          {
            id: "least_played_hand_level",
            label: "Least Played Hand Level",
            description: "Level of the least frequently played hand",
            category: "poker_hands",
            subcategory: "hand_analytics",
            code: "(function() local least_played = math.huge; local least_played_hand = ''; for hand, data in pairs(G.GAME.hands) do if data.played < least_played then least_played = data.played; least_played_hand = hand end end; return least_played_hand ~= '' and G.GAME.hands[least_played_hand].level or 0 end)()",
          },
          {
            id: "most_recent_hand_level",
            label: "Most Recent Hand Level",
            description: "Level of the most recently played hand",
            category: "poker_hands",
            subcategory: "hand_analytics",
            code: "(G.GAME.last_hand_played and G.GAME.hands[G.GAME.last_hand_played] and G.GAME.hands[G.GAME.last_hand_played].level or 0)",
          },
        ],
      },
    ],
  },
  {
    id: "game_state",
    label: "Game State",
    icon: ChartBarIcon,
    variables: [
      {
        id: "current_ante",
        label: "Current Ante",
        description: "Current ante level",
        category: "game_state",
        code: "G.GAME.round_resets.ante",
      },
      {
        id: "current_money",
        label: "Current Money",
        description: "Current amount of money",
        category: "game_state",
        code: "G.GAME.dollars",
      },
      {
        id: "hands_remaining",
        label: "Hands Remaining",
        description: "Number of hands left this round",
        category: "game_state",
        code: "G.GAME.current_round.hands_left",
      },
      {
        id: "discards_remaining",
        label: "Discards Remaining",
        description: "Number of discards left this round",
        category: "game_state",
        code: "G.GAME.current_round.discards_left",
      },
      {
        id: "hands_played_this_round",
        label: "Hands Played This Round",
        description: "Number of hands played this round",
        category: "game_state",
        code: "G.GAME.current_round.hands_played",
      },
      {
        id: "discards_used_this_round",
        label: "Discards Used This Round",
        description: "Number of discards used this round",
        category: "game_state",
        code: "G.GAME.current_round.discards_used",
      },
      {
        id: "blinds_skipped",
        label: "Blinds Skipped",
        description: "Total number of blinds skipped this run",
        category: "game_state",
        code: "G.GAME.skips",
      },
      {
        id: "base_hands_per_round",
        label: "Base Hands Per Round",
        description: "Base number of hands per round",
        category: "game_state",
        code: "G.GAME.round_resets.hands",
      },
      {
        id: "base_discards_per_round",
        label: "Base Discards Per Round",
        description: "Base number of discards per round",
        category: "game_state",
        code: "G.GAME.round_resets.discards",
      },
    ],
  },
  {
    id: "global_statistics",
    label: "Global statistics",
    icon: PresentationChartBarIcon,
    variables: [
      {
        id: "best_hand",
        label: "Best Hand",
        description: "The Best Hand the Player has ever Played",
        category: "global_statistics",
        code: "G.PROFILES[G.SETTINGS.profile].high_scores.hand.amt",
      },
      {
        id: "highest_round",
        label: "Highest Round",
        description: "The Highest round the Player managed to get",
        category: "global_statistics",
        code: "G.PROFILES[G.SETTINGS.profile].high_scores.furthest_round.amt",
      },
      {
        id: "highest_ante",
        label: "Highest Ante",
        description: "The Highest ante the Player managed to get",
        category: "global_statistics",
        code: "G.PROFILES[G.SETTINGS.profile].high_scores.furthest_ante.amt",
      },
      {
        id: "most_played_hand",
        label: "Most Played Hand",
        description: "The Most Played Hand Type by the Player",
        category: "global_statistics",
        code: "G.PROFILES[G.SETTINGS.profile].high_scores.poker_hand.amt",
      },
      {
        id: "most_money",
        label: "Most Money",
        description: "The Highest Money the player have ever had",
        category: "global_statistics",
        code: "G.PROFILES[G.SETTINGS.profile].high_scores.furthest_ante.amt",
      },
      {
        id: "best_win_streak",
        label: "Best Win Streak",
        description: "The Highest amount of Wins the Player managed to get in a row",
        category: "global_statistics",
        code: "G.PROFILES[G.SETTINGS.profile].high_scores.win_streak.amt",
      },
      {
        id: "progress",
        label: "Progress",
        description: "The Progress The player has managed to get",
        category: "global_statistics",
        code: "math.floor(0.01+100*G.PROFILES[G.SETTINGS.profile].progress.overall_tally/G.PROFILES[G.SETTINGS.profile].progress.overall_of)",
      },
    ],
    subcategories: [
      {
        id: "collection_stats",
        label: "Collection Stats",
        variables: [
          {
            id: "collection_player_amount",
            label: "Player Amount",
            description: "the Number of Items the Player has currently Discovered and Unlock",
            category: "global_statistics",
            subcategory: "collection_stats",
            code: "G.PROFILES[G.SETTINGS.profile].high_scores.collection.amt",
          },
          {
            id: "collection_total_amount",
            label: "Total Amount",
            description: "Total Number of Items the Collection has",
            category: "global_statistics",
            subcategory: "collection_stats",
            code: "G.PROFILES[G.SETTINGS.profile].high_scores.collection.tot",
          },
          {
            id: "amount_shown",
            label: "Amount Shown",
            description: "The number showed in the Stats Screen",
            category: "global_statistics",
            subcategory: "collection_stats",
            code: "math.floor(0.01+100*G.PROFILES[G.SETTINGS.profile].progress.discovered.tally/G.PROFILES[G.SETTINGS.profile].progress.discovered.of)",
          },
           ]
         },
         {
        id: "challenges_stats",
        label: "Challenges Stats",
        variables: [
          {
            id: "challenges_player_amount",
            label: "Player Amount",
            description: "the Number of Challenges completed by the Player",
            category: "global_statistics",
            subcategory: "challenges_stats",
            code: "G.PROFILES[G.SETTINGS.profile].progress.challenges.tally",
          },
          {
            id: "challenges_total_amount",
            label: "Total Amount",
            description: "Total Number of how many Challenges there are",
            category: "global_statistics",
            subcategory: "challenges_stats",
            code: "G.PROFILES[G.SETTINGS.profile].progress.challenges.of",
          },
          {
            id: "challenges_amount_shown",
            label: "Amount Shown",
            description: "The number showed in the Stats Screen",
            category: "global_statistics",
            subcategory: "challenges_stats",
            code: "math.floor(0.01+100*G.PROFILES[G.SETTINGS.profile].progress.challenges.tally/G.PROFILES[G.SETTINGS.profile].progress.challenges.of)",
          },
           ]
         },
         {
        id: "joker_sticker_stats",
        label: "Joker Sticker Stats",
        variables: [
          {
            id: "joker_sticker_player_amount",
            label: "Player Amount",
            description: "the Number of Sticker the Player has on Jokers",
            category: "global_statistics",
            subcategory: "joker_sticker_stats",
            code: "G.PROFILES[G.SETTINGS.profile].progress.joker_stickers.tally",
          },
          {
            id: "joker_sticker_total_amount",
            label: "Total Amount",
            description: "Total Number of Sticker the Player can have on Jokers",
            category: "global_statistics",
            subcategory: "joker_sticker_stats",
            code: "G.PROFILES[G.SETTINGS.profile].progress.joker_stickers.of",
          },
          {
            id: "joker_sticker_amount_shown",
            label: "Amount Shown",
            description: "The number showed in the Stats Screen",
            category: "global_statistics",
            subcategory: "joker_sticker_stats",
            code: "math.floor(0.01+100*G.PROFILES[G.SETTINGS.profile].progress.joker_stickers.tally/G.PROFILES[G.SETTINGS.profile].progress.joker_stickers.of)",
          },
           ]
         },
         {
        id: "deck_stake_wins_stats",
        label: "Deck Stake Wins Stats",
        variables: [
          {
            id: "deck_stake_wins_player_amount",
            label: "Player Amount",
            description: "the Number of Stake the Player has on Decks",
            category: "global_statistics",
            subcategory: "deck_stake_wins_stats",
            code: "G.PROFILES[G.SETTINGS.profile].progress.deck_stakes.tally",
          },
          {
            id: "deck_stake_wins_total_amount",
            label: "Total Amount",
            description: "Total Number of how may Stakes the Player can have on Decks",
            category: "global_statistics",
            subcategory: "deck_stake_wins_stats",
            code: "G.PROFILES[G.SETTINGS.profile].progress.deck_stakes.of",
          },
          {
            id: "deck_stake_wins_amount_shown",
            label: "Amount Shown",
            description: "The number showed in the Stats Screen",
            category: "global_statistics",
            subcategory: "deck_stake_wins_stats",
            code: "math.floor(0.01+100*G.PROFILES[G.SETTINGS.profile].progress.deck_stake_wins.tally/G.PROFILES[G.SETTINGS.profile].progress.deck_stake_wins.of)",
          },
           ]
         },
         {
        id: "card_stats",
        label: "Card Stats",
        variables: [
          {
            id: "round_winned_joker1",
            label: "First Most Used Joker",
            description: "Total Completed Rounds with the First Joker",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local temp_count = -math.huge;for k, v in pairs(G.PROFILES[G.SETTINGS.profile].joker_usage) do if v.count > temp_count and G.P_CENTERS[k] then temp_count = v.count; end end; return temp_count end)()",
          },
          {
            id: "round_winned_joker5",
            label: "Most Used Joker in the Middle",
            description: "Total Completed Rounds with the Joker in the middle",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local all_most_used_jokers = {};for k, v in pairs(G.PROFILES[G.SETTINGS.profile].joker_usage) do if G.P_CENTERS[k] then all_most_used_jokers[#all_most_used_jokers + 1] ={count = v.count, key = k};end end;table.sort(all_most_used_jokers, function(a, b) return a.count > b.count end); return all_most_used_jokers[5].count end)()", // thank you so much Larswijn :)
          },
          {
            id: "round_winned_joker10",
            label: "Last Most Used Joker",
            description: "Total Completed Rounds with the Last Joker",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local all_most_used_jokers = {};for k, v in pairs(G.PROFILES[G.SETTINGS.profile].joker_usage) do if G.P_CENTERS[k] then all_most_used_jokers[#all_most_used_jokers + 1] ={count = v.count, key = k};end end;table.sort(all_most_used_jokers, function(a, b) return a.count > b.count end); return all_most_used_jokers[10].count end)()", // thank you so much Larswijn :)",
          },
          {
            id: "card_used_consumeable1",
            label: "First Most Used Consumeable",
            description: "Number of Times the First Consumeable has been used",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local temp_count = -math.huge;for k, v in pairs(G.PROFILES[G.SETTINGS.profile].consumeable_usage) do if v.count > temp_count and G.P_CENTERS[k] then temp_count = v.count; end end; return temp_count end)()",
          },
          {
            id: "card_used_consumeable5",
            label: "Most Used Consumeable in the Middle",
            description: "Number of Times the Consumeable in the Middle has been used",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local all_most_used_consumeables = {};for k, v in pairs(G.PROFILES[G.SETTINGS.profile].consumeable_usage) do if G.P_CENTERS[k] then all_most_used_consumeables[#all_most_used_consumeables + 1] ={count = v.count, key = k};end end;table.sort(all_most_used_consumeables, function(a, b) return a.count > b.count end); return all_most_used_consumeables[5].count end)()", // thank you so much Larswijn :)
          },
          {
            id: "card_used_consumeable10",
            label: "Last Most Used Consumeable",
            description: "Number of Times the Last Consumeable has been used",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local all_most_used_consumeables = {};for k, v in pairs(G.PROFILES[G.SETTINGS.profile].consumeable_usage) do if G.P_CENTERS[k] then all_most_used_consumeables[#all_most_used_consumeables + 1] ={count = v.count, key = k};end end;table.sort(all_most_used_consumeables, function(a, b) return a.count > b.count end); return all_most_used_consumeables[10].count end)()", // thank you so much Larswijn :)",
          },
          {
            id: "card_redeemed_voucher1",
            label: "First Most Redeemed Voucher",
            description: "Number of Times the First Voucher has been redeemed",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local temp_count = -math.huge;for k, v in pairs(G.PROFILES[G.SETTINGS.profile].voucher_usage) do if v.count > temp_count and G.P_CENTERS[k] then temp_count = v.count; end end; return temp_count end)()",
          },
          {
            id: "card_redeemed_voucher1",
            label: "Most Redeemed Voucher in the Middle",
            description: "Number of Times the Voucher in the Middle has been redeemed",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local all_most_used_vouchers = {};for k, v in pairs(G.PROFILES[G.SETTINGS.profile].voucher_usage) do if G.P_CENTERS[k] then all_most_used_vouchers[#all_most_used_vouchers + 1] ={count = v.count, key = k};end end;table.sort(all_most_used_vouchers, function(a, b) return a.count > b.count end); return all_most_used_vouchers[5].count end)()", // thank you so much Larswijn :)
          },
          {
            id: "card_redeemed_voucher1",
            label: "Last Most Redeemed Voucher",
            description: "Number of Times the Last Voucher has been redeemed",
            category: "global_statistics",
            subcategory: "card_stats",
            code: "(function()local all_most_used_vouchers = {};for k, v in pairs(G.PROFILES[G.SETTINGS.profile].voucher_usage) do if G.P_CENTERS[k] then all_most_used_vouchers[#all_most_used_vouchers + 1] ={count = v.count, key = k};end end;table.sort(all_most_used_vouchers, function(a, b) return a.count > b.count end); return all_most_used_vouchers[10].count end)()", // thank you so much Larswijn :)",
          },
           ]
         },
         {
        id: "career_stats",
        label: "Career Stats",
        variables: [
          {
            id: "max_round_interest_cap_streak",
            label: "Max Interst Cap in a row",
            description: "The amount of Rounds in a row that you hit Interest Cap",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_round_interest_cap_streak or 2)",
          },
          {
            id: "total_dollars_earned",
            label: "Total Dollars Earned",
            description: "Total Number of Dollars the Player has ever Earned",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_dollars_earned or 0)",
          },
          {
            id: "total_shop_dollars_spent",
            label: "Total Dollars Spent on the Shop",
            description: "Total Number of Dollars Spent on the Shop by the Player",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_shop_dollars_spent or 0)",
          },
          {
            id: "total_tarots_bought",
            label: "Total Tarot cards Bought",
            description: "Total Number of Tarot cards the Player Bought on The Shop",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_tarots_bought or 0)",
          },
          {
            id: "total_planets_bought",
            label: "Total Planet cards Bought",
            description: "Total Number of Planet cards the Player Bought on The Shop",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_planets_bought or 0)",
          },
          {
            id: "total_playing_cards_bought",
            label: "Total Playing cards Bought",
            description: "Total Number of Playing cards the Player Bought on The Shop",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_playing_cards_bought or 0)",
          },
          {
            id: "total_vouchers_bought",
            label: "Total Vouchers Bought",
            description: "Total Number of Vouchers the Player Bought on The Shop",
            category: "global_statistics",
            subcategory: "challenges_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_vouchers_bought or 0)",
          },
          {
            id: "total_arcana_used",
            label: "Total Used Arcana Packs",
            description: "Total Number of how many Arcana Packs the Player has ever used",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_tarot_reading_used or 0)",
          },
          {
            id: "total_celestial_used",
            label: "Total Used Celestial Packs",
            description: "Total Number of how many Celestial Packs the Player has ever used",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_planetarium_used or 0)",
          },
          {
            id: "total_shop_rerolls",
            label: "Total Shop Rellored",
            description: "Total Number of Times the Player has Rellored the Shop",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_shop_rerolls or 0)",
          },
          {
            id: "total_cards_played",
            label: "Total Played Cards",
            description: "Total Number of Cards Played by the Player",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_cards_played or 0)",
          },
          {
            id: "total_cards_discarded",
            label: "Total Discarded Cards",
            description: "Total Number of Cards Discarded by the Player",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_cards_discarded or 0)",
          },
          {
            id: "total_losses",
            label: "Total Player Losses",
            description: "Total Number of Times the Player have Lost a run",
            category: "global_statistics",
            subcategory: "challenges_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_losses or 0)",
          },
          {
            id: "wins",
            label: "Total Player Wins",
            description: "Total Number of Times the Player have Win a run",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_wins or 0)",
          },
          {
            id: "total_total_rounds",
            label: "Total Played Rounds",
            description: "Total Number of Rounds the Player Played",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_rounds or 0)",
          },
          {
            id: "total_hands_played",
            label: "Total Played Hands",
            description: "Total Number of Hands Played by the Player",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_hands_played or 0)",
          },
          {
            id: "total_face_cards_played",
            label: "Total Played Face cards",
            description: "Total Number of Face Cards Played by the Player",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_face_cards_played or 0)",
          },
          {
            id: "total_jokers_sold",
            label: "Total Jokers Sold",
            description: "Total Number of jokers Sold by the Player",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_jokers_sold or 0)",
          },
          {
            id: "total_cards_sold",
            label: "Total Cards Sold",
            description: "Total Number of Cards Sold by the Player",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_cards_sold or 0)",
          },
          {
            id: "single_hand_round_streak",
            label: "Total 1 Hand Round Wins",
            description: "Total Number of Times the Player has Win a Round by Playing 1 Hand",
            category: "global_statistics",
            subcategory: "career_stats",
            code: "(G.PROFILES[G.SETTINGS.profile].career_stats.c_single_hand_round_streak or 0)",
          },
           ]
         },
       ]
     },
  {
    id: "money_thresholds",
    label: "Money Thresholds",
    icon: BanknotesIcon,
    variables: [],
    subcategories: [
      {
        id: "money_intervals",
        label: "Money Intervals",
        variables: [
          {
            id: "money_per_5",
            label: "Money ÷ 5",
            description: "Current money divided by 5 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 5))",
          },
          {
            id: "money_per_10",
            label: "Money ÷ 10",
            description: "Current money divided by 10 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 10))",
          },
          {
            id: "money_per_15",
            label: "Money ÷ 15",
            description: "Current money divided by 15 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 15))",
          },
          {
            id: "money_per_20",
            label: "Money ÷ 20",
            description: "Current money divided by 20 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 20))",
          },
          {
            id: "money_per_25",
            label: "Money ÷ 25",
            description: "Current money divided by 25 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 25))",
          },
          {
            id: "money_per_30",
            label: "Money ÷ 30",
            description: "Current money divided by 30 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 30))",
          },
          {
            id: "money_per_40",
            label: "Money ÷ 40",
            description: "Current money divided by 40 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 40))",
          },
          {
            id: "money_per_50",
            label: "Money ÷ 50",
            description: "Current money divided by 50 (rounded down)",
            category: "money_thresholds",
            subcategory: "money_intervals",
            code: "math.floor(lenient_bignum(G.GAME.dollars / 50))",
          },
        ],
      },
    ],
  },
  {
    id: "special",
    label: "Special",
    icon: SparklesIcon,
    variables: [],
    subcategories: [
      {
        id: "hand_position",
        label: "Hand Position",
        variables: [
          {
            id: "leftmost_card_rank",
            label: "Leftmost Card Rank",
            description: "Rank of the leftmost card in hand",
            category: "special",
            subcategory: "hand_position",
            code: "(G.hand and G.hand.cards[1] and G.hand.cards[1].base.id or 0)",
          },
          {
            id: "rightmost_card_rank",
            label: "Rightmost Card Rank",
            description: "Rank of the rightmost card in hand",
            category: "special",
            subcategory: "hand_position",
            code: "(G.hand and G.hand.cards[#G.hand.cards] and G.hand.cards[#G.hand.cards].base.id or 0)",
          },
        ],
      },
      {
        id: "time_based",
        label: "Time Based",
        variables: [
          {
            id: "current_seconds",
            label: "Current Seconds",
            description: "Current Seconds (0-59)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).sec',
          },
          {
            id: "current_minutes",
            label: "Current Minutes",
            description: "Current Minutes (0-59)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).min',
          },
          {
            id: "current_hours",
            label: "Current Hours",
            description: "Current Hours (0-23)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).hour',
          },
          {
            id: "current_day",
            label: "Current Day",
            description: "Current Day of the Month (1-31)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).day',
          },
          {
            id: "current_month",
            label: "Current Month",
            description: "Current Month (1-12)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).month',
          },
          {
            id: "current_year",
            label: "Current Year",
            description: "Current Year (how else do i describe this)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).year',
          },
          {
            id: "current_year_day",
            label: "Current Year Day",
            description: "Current day of the Year (1-365)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).yday',
          },
          {
            id: "current_week_day",
            label: "Current Week Day",
            description: "Current day of the Week where 1 is Sunday (1-7)",
            category: "special",
            subcategory: "time_based",
            code: 'os.date("*t", os.time()).wday',
          },
        ],
      },
    ],
  },
];

export const getAllGameVariables = (): GameVariable[] => {
  const allVariables: GameVariable[] = [];

  GAME_VARIABLE_CATEGORIES.forEach((category) => {
    allVariables.push(...category.variables);
    if (category.subcategories) {
      category.subcategories.forEach((subcategory) => {
        allVariables.push(...subcategory.variables);
      });
    }
  });

  return allVariables;
};

export const getGameVariableById = (id: string): GameVariable | undefined => {
  return getAllGameVariables().find((variable) => variable.id === id);
};

export const getGameVariablesByCategory = (
  categoryId: string
): GameVariable[] => {
  const category = GAME_VARIABLE_CATEGORIES.find(
    (cat) => cat.id === categoryId
  );
  return category ? category.variables : [];
};

export const getGameVariablesBySubcategory = (
  categoryId: string,
  subcategoryId: string
): GameVariable[] => {
  const category = GAME_VARIABLE_CATEGORIES.find(
    (cat) => cat.id === categoryId
  );
  if (!category?.subcategories) return [];

  const subcategory = category.subcategories.find(
    (sub) => sub.id === subcategoryId
  );
  return subcategory ? subcategory.variables : [];
};
